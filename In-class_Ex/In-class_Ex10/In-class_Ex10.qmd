---
title: "In Class Exercise 10"
author: "Arjun Singh"
date: 2024-11-4
date-modified: "last-modified"
execute: 
  eval: true
  echo: true
  message: false
  freeze: true
  warning: false
format:
  html:
    css: styles.css 
---

The below code chunk facilitates geocoding.

```{r}
postcode={}
url='https://onemap.gov.sg/api/common/elastic/search'
found=data.frame()
not_found=data.frame()

for (postcode in postcode){
  query=list('searchVal'=postcode, 'returnGeom'='Y',
             'getAddrDetails'='Y', 'pageNum'='1')
  res=GET(url, query=query)
  if((content(res)$found)!=0){
    found=rbind(found, data.frame(content(res))[4:13])
  } else{not_found=data.frame(postcode)
  }
}
             
```
